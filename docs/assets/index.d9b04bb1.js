import{r as e,o as a,c as i,a as t,w as o,F as n,b as r,t as d,d as l,e as m,v as s,f as p,g as c,h as f,i as u,j as h}from"./vendor.81ab6db8.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(i){const t=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((i,n)=>{const r=new URL(e,t);if(self[a].moduleMap[r])return i(self[a].moduleMap[r]);const d=new Blob([`import * as m from '${r}';`,`${a}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(d),onerror(){n(new Error(`Failed to import: ${e}`)),o(l)},onload(){i(self[a].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[a].moduleMap={}}}("assets/");const T={name:"HelloWorld",props:{msg:String},data(){var e=[];return window.localStorage.getItem("roadmapTimeLines1.0")&&(e=JSON.parse(window.localStorage.getItem("roadmapTimeLines1.0"))),{count:0,timeNodes:this.buildTimeNodes(),rows:new Array(40),draftRoadmapTimeline:this.getDraftRoadmaoTimeline(),roadmapTimeLines:e,dialogVisiableOfdraftRoadmapTimelineTextInput:!1}},computed:{draftRoadmapTimeLineStyle:function(){return this.buildRoadmapTimelineStyle(this.draftRoadmapTimeline)}},methods:{buildRoadmapTimelineBdStyle(e){let a="#222";return e.property.backgroundColor&&"#fff"!==e.property.backgroundColor&&(a="#fff"),{"background-color":e.property.backgroundColor?e.property.backgroundColor:"#fff",color:a}},randomBackgroundColor(e){let a=["#295BE6","#2CBC63","#12B2E6","#774EE0","#AF4FD3","#E16AC0","#EB4962","#F1763A","#EAC00B"];e.property.backgroundColor=a[parseInt(Math.random()*a.length)],this.cache(),console.log(e.property.backgroundColor)},onClickBtnRemoveOfRoadmapTimeline(e){this.roadmapTimeLines.splice(e,1),this.cache()},onClickBtnShare(){alert("开发中")},buildRoadmapTimelineStyle:e=>({left:e.property.left+"px",top:e.property.top+"px",width:e.property.width+"px"}),getDraftRoadmaoTimeline:()=>({isBuilding:!1,isFinish:!1,property:{width:0,left:0,top:0,text:"",backgroundColor:"#fff",initialOffsetX:0,initialLeft:0,initialTop:0,initialScreenX:0}}),onMouseMoveForCaledarView(e){if(this.draftRoadmapTimeline.isBuilding){let a=e.screenX-this.draftRoadmapTimeline.property.initialScreenX,i=a<0?0:a;this.draftRoadmapTimeline.property.width=i,this.draftRoadmapTimeline.property.dayCount=i<=60?1:1+Math.floor((i-60)/60)}},onMouseDownForRoadmapRowsItem(e){this.draftRoadmapTimeline.isBuilding?this.onMouseUpForRoadmapRowsItem(e):this.draftRoadmapTimeline.isBuilding||(this.draftRoadmapTimeline.isFinish=!1,this.draftRoadmapTimeline.isBuilding=!0,this.draftRoadmapTimeline.property.initialOffsetX=e.offsetX,this.draftRoadmapTimeline.property.initialLeft=e.currentTarget.getBoundingClientRect().x+this.$refs.caledarView.scrollLeft,this.draftRoadmapTimeline.property.initialTop=e.currentTarget.getBoundingClientRect().y-60,this.draftRoadmapTimeline.property.initialScreenX=e.screenX,this.draftRoadmapTimeline.property.left=this.draftRoadmapTimeline.property.initialLeft,this.draftRoadmapTimeline.property.top=this.draftRoadmapTimeline.property.initialTop)},onMouseUpForRoadmapRowsItem(){this.draftRoadmapTimeline.isBuilding&&(this.dialogVisiableOfdraftRoadmapTimelineTextInput=!0,this.$nextTick((()=>{this.$refs.draftRoadmapTimelineTextInput.focus()})))},onDialogCloseChangeRoadmapTimelineTextInput(){this.dialogVisiableOfdraftRoadmapTimelineTextInput=!1,this.newDraftRoadmaoTimeline()},createRoadmapTimeline(){this.dialogVisiableOfdraftRoadmapTimelineTextInput=!1,this.draftRoadmapTimeline.isBuilding=!1,this.draftRoadmapTimeline.isFinish=!0,this.draftRoadmapTimeline.property.width=60*this.draftRoadmapTimeline.property.dayCount,this.roadmapTimeLines.push({property:{backgroundColor:this.draftRoadmapTimeline.property.backgroundColor,left:this.draftRoadmapTimeline.property.left,top:this.draftRoadmapTimeline.property.top,width:this.draftRoadmapTimeline.property.width,text:this.draftRoadmapTimeline.property.text}}),this.newDraftRoadmaoTimeline(),this.cache()},cache(){window.localStorage.setItem("roadmapTimeLines1.0",JSON.stringify(this.roadmapTimeLines))},newDraftRoadmaoTimeline(){this.draftRoadmapTimeline=this.getDraftRoadmaoTimeline()},buildTimeNodes(){const e=moment(new Date).subtract(1,"months"),a=moment(new Date).add(4,"months"),i=moment.range(e,a);return Array.from(i.by("day",{excludeEnd:!0})).map((e=>{let a=moment(e),i={name:a.format("YYYY-MM-DD"),whatDayOfWeek:a.format("dd").substring(0,1),whatDayOfMonth:a.format("D")};return"1"===a.format("D")&&(i.whatMonthOfYear=a.format("MMM")),i}))}},mounted(){this.$nextTick((()=>{this.$refs.caledarView.style.height=document.documentElement.clientHeigh-132+"px";this.$refs.caledarView.scrollLeft=1800}))}},R={class:""},w={class:"navbar"},_=t("h3",null,"Z Roadmap",-1),y=t("i",{class:"el-icon-link"},null,-1),g=p("共享"),b={class:"caledar-view__item"},C={class:"caledar-view__item__head-wrap"},v={class:"caledar-view__item__MMM"},M={key:0},k={class:"caledar-view__item__head"},x={class:"caledar-view__item__head__dd"},B={class:"caledar-view__item__roadmap"},D={class:"caledar-view__item__roadmap__rows"},L={class:"roadmap__timeline__bd building"};T.render=function(u,h,T,O,I,V){const F=e("el-button"),S=e("el-input"),U=e("el-dialog");return a(),i("div",R,[t("div",w,[_,t(F,{class:"btn-share btn-common",type:"primary",onClick:V.onClickBtnShare},{default:o((()=>[y,g])),_:1},8,["onClick"])]),t("div",{class:"caledar-view",ref:"caledarView",onMousemove:h[3]||(h[3]=(...e)=>V.onMouseMoveForCaledarView&&V.onMouseMoveForCaledarView(...e))},[(a(!0),i(n,null,r(I.timeNodes,(e=>(a(),i("div",b,[t("div",C,[t("div",v,[e.whatMonthOfYear?(a(),i("span",M,d(e.whatMonthOfYear),1)):l("",!0)]),t("div",k,[t("div",x,d(e.whatDayOfWeek),1),t("div",{class:"caledar-view__item__head__D","data-name":e.name},[t("em",null,d(e.whatDayOfMonth),1)],8,["data-name"])])]),t("div",B,[t("ul",D,[(a(!0),i(n,null,r(I.rows,(e=>(a(),i("li",{onMouseup:h[1]||(h[1]=(...e)=>V.onMouseUpForRoadmapRowsItem&&V.onMouseUpForRoadmapRowsItem(...e)),onMousedown:h[2]||(h[2]=(...e)=>V.onMouseDownForRoadmapRowsItem&&V.onMouseDownForRoadmapRowsItem(...e)),class:[{building:I.draftRoadmapTimeline.isBuilding},"caledar-view__item__roadmap__rows__item"]},null,34)))),256))])])])))),256)),m(t("div",{class:["roadmap__timeline",{building:I.draftRoadmapTimeline.isBuilding}],style:V.draftRoadmapTimeLineStyle},[t("div",L,d(I.draftRoadmapTimeline.property.dayCount),1)],6),[[s,I.draftRoadmapTimeline.isBuilding]]),I.roadmapTimeLines.length?(a(!0),i(n,{key:0},r(I.roadmapTimeLines,((e,o)=>(a(),i("div",{class:"roadmap__timeline",style:this.buildRoadmapTimelineStyle(e)},[t("div",{class:"roadmap__timeline__bd finish",style:V.buildRoadmapTimelineBdStyle(e),onClick:a=>V.randomBackgroundColor(e)},[p(d(e.property.text)+" ",1),t("i",{class:"el-icon-close roadmap__timeline__bd__btn-remove",onClick:c((e=>V.onClickBtnRemoveOfRoadmapTimeline(o)),["stop"])},null,8,["onClick"])],12,["onClick"])],4)))),256)):l("",!0)],544),t(U,{width:"50%","custom-class":"draft-roadmap-time-line-dialog",title:"",modelValue:I.dialogVisiableOfdraftRoadmapTimelineTextInput,"onUpdate:modelValue":h[6]||(h[6]=e=>I.dialogVisiableOfdraftRoadmapTimelineTextInput=e),onClose:V.onDialogCloseChangeRoadmapTimelineTextInput},{default:o((()=>[t(S,{size:"medium",modelValue:I.draftRoadmapTimeline.property.text,"onUpdate:modelValue":h[4]||(h[4]=e=>I.draftRoadmapTimeline.property.text=e),ref:"draftRoadmapTimelineTextInput",placeholder:"Task name",onKeyup:h[5]||(h[5]=f((e=>V.createRoadmapTimeline()),["enter"]))},null,8,["modelValue"])])),_:1},8,["modelValue","onClose"])])};const O={name:"App",components:{CalendarView:T}};O.render=function(t,o,n,r,d,l){const m=e("CalendarView");return a(),i(m)};window["moment-range"].extendMoment(moment);var I=u(O);I.use(h),I.mount("#app");
